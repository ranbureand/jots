/* (c) 2018 Andrea Buran [www.andreaburan.com] ∪ Marco Sampellegrini [https://github.com/alpacaaa] All rights reserved */

/*
** Focus
*/

::focus {
  outline-style: none;
  outline-color: transparent;
}

/*
** Basics
*/

html {
  font-size: 100% * $base-font-size / $browser-default-font-size;
  font-weight: $normal;

  box-sizing: border-box;
  height: 100%;

  letter-spacing: 0.02em;

  color: $d-type-color;

  @include font-size($base-font-size, $base-font-line);
      -ms-text-size-adjust: none; // normalize.css
  -webkit-text-size-adjust: none; // normalize.css
  @include face(sans); // normalize.css
}

*,
*:before,
*:after {
  box-sizing: inherit;

  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-tap-highlight-color: transparent;
}

body {
  font-weight: $normal;

  position: relative;

  width: 100%;
  height: 100%;
  margin: 0; // normalize.css

  counter-reset: tags;

  background-color: $c-background-color;

  scroll-behavior: smooth;
  @include min-screen(col(12)) {
    display: table;
  }
}

/*
** HTML5
*/

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block; // normalize.css
}

audio,
canvas,
progress,
video {
  display: inline-block; // normalize.css

  vertical-align: baseline; // normalize.css
}

audio:not([controls]) {
  display: none; // normalize.css

  height: 0; // normalize.css
}

[hidden],
template {
  display: none; // normalize.css
}

/*
** Links
*/

a {
  transition-timing-function: ease-in-out, ease-in-out, ease-in-out, ease-in-out, ease-in-out;
  transition-duration: $duration, $duration, $duration, $duration, $duration;
  transition-property: color, background-color, border-color, box-shadow, text-shadow;
  text-decoration: none;

  color: $d-strong-type-color;
  background-color: transparent; // normalize.css
  span {
    transition-timing-function: ease-in-out;
    transition-duration: $duration;
    transition-property: color;
  }
  &:hover {
    color: $c-type-color;
    outline: 0; // normalize.css
  }
  &:active {
    transition-duration: 0.0s, 0.0s, 0.0s, 0.0s, 0.0s;

    color: $c-type-color;
    outline: 0; // normalize.css
  }
  &:focus {
    outline: 0;
  }
}
a[href^='mailto'] {
  word-break: break-all;
}

/*
** Text-level semantics
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: 1em; // normalize.css

  margin: 0;

  color: $d-strong-type-color;
  span {
    color: $d-strong-type-color;
  }
}
h1,
h2,
h3,
h4 {
  font-weight: $semi-bold;
}
h5,
h6 {
  font-weight: $normal;
}
h6 {
  color: $d-light-type-color;
}

ul,
ol {
  margin: 0;
  padding: 0;

  list-style-type: none;
}

dl {
  margin: 0;
  dt {
    font-style: italic;

    float: left;

    margin-right: 0.8em;

    color: $d-strong-type-color;
  }
  dd {
    margin: 0;
  }
}

p {
  margin: 0;
}

abbr[title] {
  border-bottom: 1px dotted; // normalize.css
}

strong {
  font-weight: $semi-bold; // normalize.css

  color: $d-strong-type-color;
}

q {
  font-style: italic;
  &:before {
    content: '«';
  }
  &:after {
    content: '»';
  }
}

dfn {
  font-style: italic; // normalize.css
}

small {
  font-size: 0.8em; // normalize.css
}

sub,
sup {
  font-size: 0.8em; // normalize.css
  line-height: 0; // normalize.css

  position: relative; // normalize.css

  vertical-align: baseline; // normalize.css
}

sup {
  top: -0.5em; // normalize.css
}

sub {
  bottom: -0.25em; // normalize.css
}

/*
** Grouping content
*/

code,
kbd,
pre,
samp {
  font-family: monospace, monospace; // normalize.css
  font-size: 1em; // normalize.css
}
code,
samp {
  color: $d-type-color;
}
kbd,
mark {
  color: $d-strong-type-color;
}
code,
samp,
kbd {
  @include face(mono);
}
code,
kbd,
mark {
  margin: -0.1em 0;
  padding: 0.1em 0.3em;

  border-radius: 2px 2px;
  background-color: $l-code-background-color;
}

pre {
  display: block;
  overflow: auto; // normalize.css

  white-space: normal;

  border-radius: 2px 2px;
  background-color: $l-code-background-color;
  code {
    display: block;

    padding: 0;

    white-space: pre;

    background-color: transparent;
  }
}

blockquote {
  margin: 0;

  border-color: $border-color;
}

quote {
  font-style: italic;

  color: $d-strong-type-color;
}

hr {
  display: block;

  height: 1px;
  margin: 1em 0;
  padding: 0;

  border: 0;
  border-top: $border-width solid $border-color;
}

/*
** Embedded content
*/

img,
iframe {
  display: block;

  max-width: 100%;

  background-color: $picture-background-color;
}

video {
  display: block;

  width: 100%;

  background-color: $picture-background-color;
}

img {
  border: 0; // normalize.css

  image-rendering: optimizeQuality;
}

svg:not(:root) {
  overflow: hidden; // normalize.css
}
