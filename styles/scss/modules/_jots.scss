/* (c) 2015 Andrea Buran [www.andreaburan.com] All rights reserved */

/*
** Jots
*/

.jots {
	width: 100%;
	margin-right: auto;
	margin-left: auto;
	padding-bottom: rhythm($m-large-line*2);

	@include min-screen(col(8)) {
		width: col(8);
		padding-bottom: rhythm($d-large-line*2);

		@include display-flex(flex);
		@include flex-flow(row wrap);
		@include justify-content(left);
		@include align-items(flex-start);
		@include align-content(flex-start);
	}
	@include min-screen(col(12)) {
		width: col(12);
	}
	@include min-screen(col(16)) {
		width: col(16);
	}
}

@include keyframes(number-pulse) {
	0% {
		@include box-shadow($light-type-color 0 0 0 0.5em);
	}
	50% {
		@include box-shadow($light-type-color 0 0 0 0.3em);
	}
	100% {
		@include box-shadow($light-type-color 0 0 0 0.5em);
	}
}

.jot {
	position: relative;

	display: block;

	width: 100%;
	padding-top: rhythm($m-large-line*2 - $m-small-line);
	padding-bottom: rhythm($m-large-line*2);

	&:target {
		.number {
			a {
				cursor: default;

				background-color: $type-color;

				@include animation(number-pulse 2.5s infinite ease);
			}
		}
	}
	@include min-screen(col(8)) {
		width: 1/2*1*100%;
		padding-top: rhythm($d-large-line*2 - $d-small-line);
		padding-bottom: rhythm($d-large-line*2);

		@include flex-grow(0);
		@include flex-shrink(1);
	}
	@include min-screen(col(12)) {
		width: 1/3*1*100%;
	}
	@include min-screen(col(16)) {
		width: 1/4*1*100%;
	}
}

.jot:nth-child(-n+4) {
	width: 100%;

	@include min-screen(col(8)) {
		padding-top: rhythm($d-large-line*2 - $d-medium-line);
		.number {
			margin-bottom: rhythm($d-medium-line*2, $d-medium-size);
			padding-right: em($d-gut/2, $d-medium-size);
			padding-left: em($d-gut/2, $d-medium-size);

			@include adjust-font-size-to($d-medium-size, $d-medium-line);
			a {
				min-width: rhythm($d-medium-line*2, $d-medium-size);
				height: rhythm($d-medium-line*2, $d-medium-size);
				padding-top: rhythm($d-medium-line/2 + 0.4, $d-medium-size);
				padding-right: em($d-gut/4, $d-medium-size);
				padding-bottom: rhythm($d-medium-line/2 - 0.4, $d-medium-size);
				padding-left: em($d-gut/4, $d-medium-size);

				@include border-radius(rhythm($d-medium-line, $d-medium-size));
			}
		}
		.body {
			margin-bottom: rhythm($d-large-line*2);
		}
	}
	@include min-screen(col(16)) {
		overflow: auto;

		padding-top: rhythm($d-large-line*2);
		.number {
			float: left;

			width: 1/4*1*100%;
			margin-right: -1*100%;
			margin-left: 0;
		}
		.body {
			float: left;

			width: 1/4*3*100%;
			margin-right: -1*100%;
			margin-left: 1/4*100%;
		}
		.reference {
			float: left;
			clear: left;

			width: 1/4*3*100%;
			margin-right: -1*100%;
			margin-left: 1/4*100%;
		}
		.date {
			float: left;

			width: 1/4*1*100%;
			margin-right: -1*100%;
			margin-left: 0;
		}
	}
}

.number {
	font-weight: $bold;

	margin-bottom: rhythm($m-small-line*2, $m-small-size);
	padding-right: em($m-gut/2, $m-small-size);
	padding-left: em($m-gut/2, $m-small-size);

	@include adjust-font-size-to($m-small-size, $m-small-line);
	a {
		display: inline-block;

		min-width: rhythm($m-small-line*2, $m-small-size);
		height: rhythm($m-small-line*2, $m-small-size);
		padding-top: rhythm($m-small-line/2 + 0.2, $m-small-size);
		padding-right: em($m-gut/4, $m-small-size);
		padding-bottom: rhythm($m-small-line/2 - 0.2, $m-small-size);
		padding-left: em($m-gut/4, $m-small-size);

		text-align: center;

		background-color: $st-type-color;

		@include border-radius(rhythm($m-small-line, $m-small-size));
		@include link-colors($strong-type-inverted-color);
		&:hover, &:active, &:focus {
			@include box-shadow($st-light-type-color 0 0 0 0.4em);
		}
	}
	@include min-screen(col(8)) {
		margin-bottom: rhythm($d-small-line*2, $d-small-size);
		padding-right: em($d-gut/2, $d-small-size);
		padding-left: em($d-gut/2, $d-small-size);

		@include adjust-font-size-to($d-small-size, $d-small-line);
		a {
			min-width: rhythm($d-small-line*2, $d-small-size);
			height: rhythm($d-small-line*2, $d-small-size);
			padding-top: rhythm($d-small-line/2 + 0.2, $d-small-size);
			padding-right: em($d-gut/4, $d-small-size);
			padding-bottom: rhythm($d-small-line/2 - 0.2, $d-small-size);
			padding-left: em($d-gut/4, $d-small-size);

			@include border-radius(rhythm($d-small-line, $d-small-size));
		}
	}
}

.body {
	font-weight: $bold;

	margin-bottom: rhythm($m-medium-line*2);
	padding-right: em($m-gut/2);
	padding-left: em($m-gut/2 - 4px);

	color: $strong-type-color;
	border-left: 4px solid $st-type-color;

	@include min-screen(col(8)) {
		margin-bottom: rhythm($d-medium-line*2);
		padding-right: em($d-gut/2);
		padding-left: em($d-gut - 4px);
	}
	a {
		font-weight: $bold;

		@include link;
	}
}

.reference {
	margin-bottom: rhythm($m-small-line/2, $m-small-size);
	padding-right: em($m-gut/2, $m-small-size);
	padding-left: em($m-gut/2, $m-small-size);

	@include adjust-font-size-to($m-small-size, $m-small-line);
	&:before {
		float: left;

		width: em($m-gut*3/4, $m-small-size);

		content: "â€”";
	}
	a {
		font-weight: $bold;

		@include link;
	}
	span {
		font-weight: $bold;

		color: $strong-type-color;
	}
	@include min-screen(col(8)) {
		margin-bottom: rhythm($d-small-line/2, $d-small-size);
		padding-right: em($d-gut/2, $d-small-size);
		padding-left: em($d-gut/2, $d-small-size);

		@include adjust-font-size-to($d-small-size, $d-small-line);
		&:before {
			width: em($d-gut*3/4, $d-small-size);
		}
	}
}


.date {
	padding-right: em($m-gut/2, $m-small-size);
	padding-left: em($m-gut/2, $m-small-size);

	@include adjust-font-size-to($m-small-size, $m-small-line);
	@include min-screen(col(8)) {
		padding-right: em($d-gut/2, $d-small-size);
		padding-left: em($d-gut/2, $d-small-size);

		@include adjust-font-size-to($d-small-size, $d-small-line);
	}
}
